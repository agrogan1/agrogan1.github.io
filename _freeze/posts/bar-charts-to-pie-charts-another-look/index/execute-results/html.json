{
  "hash": "3c35344972c70c6abe70388b9636a9f0",
  "result": {
    "markdown": "---\ntitle: \"Bar Charts to Pie Charts: Another Look\"\nauthor: \"Andy Grogan-Kaylor\"\ndate: \"2023-9-9\"\ncategories: [stats, dataviz]\necho: true\ncode-fold: true\ncode-summary: \"Show the code\"\n---\n\n\n# Background\n\nA quick look at moving from bar charts to pie charts. \n\nA longer explanation of some issues is here: [https://agrogan1.github.io/posts/bar-charts-in-ggplot2/](https://agrogan1.github.io/posts/bar-charts-in-ggplot2/)\n\n# Get Data\n\n\n::: {.cell}\n\n```{.r .cell-code}\nload(\"social-service-agency.RData\")\n```\n:::\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n--------------------------\n age    program    gender \n----- ----------- --------\n 23    Program B    Male  \n\n 39    Program C   Female \n\n 26    Program C   Female \n\n 24    Program D    Male  \n\n 36    Program C   Female \n\n 33    Program C    Male  \n--------------------------\n:::\n:::\n\n\n# Call `ggplot`\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggplot2)\n```\n:::\n\n\n# One Dimension of Data (program)\n\n## Bar Chart\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(clients, # data I am using\n       aes(x = program, # x is program\n           fill = program)) + # fill is also program\n  geom_bar() # use bars\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n\n## Stacked Bar Chart\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(clients, # data I am using\n       aes(x = 1, # x is now 1 for everyone\n           fill = program)) + # fill is program\n  geom_bar() # use bars\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\n## Pie Chart\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(clients, # data I am using\n       aes(x = 1, # x is now 1 for everyone\n           fill = program)) + # fill is program\n  geom_bar() + # use bars\n  coord_polar(theta = \"y\") + # use polar coordinates\n  theme_void() # blank theme for pie charts\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n\n# Two Dimensions of Data (program X gender)\n\n## Stacked Bar Chart\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(clients, # data I am using\n       aes(x = program, # x is back to program\n           fill = gender)) + # fill is gender\n  geom_bar() # use bars\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\n\n## Unstack the Bars\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(clients, # data I am using\n       aes(x = program, # x is back to program\n           fill = gender)) + # fill is gender\n  geom_bar(position = \"dodge2\") # unstack ('dodge') the bars\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-9-1.png){width=672}\n:::\n:::\n\n\n## Pie Chart\n\nOne approach ...\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# position = position_fill() makes the slices\n# fill the pie in each facet\n\nggplot(clients, # data I am using\n       aes(x = 1, # x is back to 1\n           fill = gender)) + # fill is gender\n  geom_bar(position = position_fill()) + # use bars\n  coord_polar(theta = \"y\") + # polar coordinates\n  facet_wrap(~program) + # facet wrap on program\n  theme_void() # blank theme for pie charts\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-10-1.png){width=672}\n:::\n:::\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}