{smcl}
{com}{sf}{ul off}{txt}{.-}
      name:  {res}<unnamed>
       {txt}log:  {res}/Users/agrogan/Desktop/GitHub/agrogan1.github.io/myposts/Simpsonsparadox-Stata.smcl
  {txt}log type:  {res}smcl
 {txt}opened on:  {res}29 Jul 2022, 13:16:47
{txt}
{com}. //_1
. display c(current_date)
{res}29 Jul 2022
{txt}
{com}. //_2
. display c(current_time)
{res}13:16:47
{txt}
{com}. //_3
. use simpsonsparadox.dta, clear
{txt}
{com}. //_4
. list // list out the data
{txt}
     {c TLC}{hline 7}{c -}{hline 11}{c -}{hline 8}{c -}{hline 7}{c TRC}
     {c |} {res}count   treatment   status   group {txt}{c |}
     {c LT}{hline 7}{c -}{hline 11}{c -}{hline 8}{c -}{hline 7}{c RT}
  1. {c |} {res}    4   untreated    alive       A {txt}{c |}
  2. {c |} {res}    3   untreated     dead       A {txt}{c |}
  3. {c |} {res}    8     treated    alive       A {txt}{c |}
  4. {c |} {res}    5     treated     dead       A {txt}{c |}
  5. {c |} {res}    2   untreated    alive       B {txt}{c |}
     {c LT}{hline 7}{c -}{hline 11}{c -}{hline 8}{c -}{hline 7}{c RT}
  6. {c |} {res}    3   untreated     dead       B {txt}{c |}
  7. {c |} {res}   12     treated    alive       B {txt}{c |}
  8. {c |} {res}   15     treated     dead       B {txt}{c |}
     {c BLC}{hline 7}{c -}{hline 11}{c -}{hline 8}{c -}{hline 7}{c BRC}

{com}. //_5
. set scheme michigan // use Michigan graph scheme
{txt}
{com}. //_6
. tabulate status treatment [fweight=count], row col
{txt}
{c TLC}{hline 19}{c TRC}
{c |} Key{col 21}{c |}
{c LT}{hline 19}{c RT}
{c |}{space 5}{it:frequency}{col 21}{c |}
{c |}{space 2}{it:row percentage}{col 21}{c |}
{c |}{space 1}{it:column percentage}{col 21}{c |}
{c BLC}{hline 19}{c BRC}

           {c |}       treatment
    status {c |} untreated    treated {c |}     Total
{hline 11}{c +}{hline 22}{c +}{hline 10}
      dead {c |}{res}         6         20 {txt}{c |}{res}        26 
           {txt}{c |}{res}     23.08      76.92 {txt}{c |}{res}    100.00 
           {txt}{c |}{res}     50.00      50.00 {txt}{c |}{res}     50.00 
{txt}{hline 11}{c +}{hline 22}{c +}{hline 10}
     alive {c |}{res}         6         20 {txt}{c |}{res}        26 
           {txt}{c |}{res}     23.08      76.92 {txt}{c |}{res}    100.00 
           {txt}{c |}{res}     50.00      50.00 {txt}{c |}{res}     50.00 
{txt}{hline 11}{c +}{hline 22}{c +}{hline 10}
     Total {c |}{res}        12         40 {txt}{c |}{res}        52 
           {txt}{c |}{res}     23.08      76.92 {txt}{c |}{res}    100.00 
           {txt}{c |}{res}    100.00     100.00 {txt}{c |}{res}    100.00 
{txt}
{com}. //_7
. spineplot status treatment [fweight=count], ///
> bar1(color(gold) fintensity(%100)) bar2(color(navy %100) fintensity(%100)) ///
> title("The Treatment Appears To Have NO Effect") ///
> subtitle("In The Sample As A Whole") ///
> note("An Equal % Of Those Receiving And Not Receiving Treatment Are Alive")
{p 0 4 2}
{txt}(note:  named style
% 100 not found in class
intensity,  default attributes used)
{p_end}
{p 0 4 2}
{txt}(note:  named style
% 100 not found in class
intensity,  default attributes used)
{p_end}
{res}{txt}
{com}. //_8
. graph export my_Simpsons_spineplot.png, width(1000) replace
{txt}{p 0 4 2}
file {bf}
/Users/agrogan/Desktop/GitHub/agrogan1.github.io/myposts/my_Simpsons_spineplot.png{rm}
saved as
PNG
format
{p_end}

{com}. //_9
. graph bar [fweight=count], over(status) over(treatment) asyvars ///
> title("The Treatment Appears To Have NO Effect") ///
> subtitle("In The Sample As A Whole") ///
> note("An Equal % Of Those Receiving And Not Receiving Treatment Are Alive")
{res}{txt}
{com}. //_10
. graph export my_Simpsons_barchart.png, width(1000) replace
{txt}{p 0 4 2}
file {bf}
/Users/agrogan/Desktop/GitHub/agrogan1.github.io/myposts/my_Simpsons_barchart.png{rm}
saved as
PNG
format
{p_end}

{com}. //_11
. graph pie, over(status) by(treatment, ///
> title("The Treatment Appears To Have NO Effect") ///
> subtitle("In The Sample As A Whole") ///
> note("An Equal % Of Those Receiving And Not Receiving Treatment Are Alive"))
{res}{txt}
{com}. //_12
. graph export my_Simpsons_piechart.png, width(1000) replace
{txt}{p 0 4 2}
file {bf}
/Users/agrogan/Desktop/GitHub/agrogan1.github.io/myposts/my_Simpsons_piechart.png{rm}
saved as
PNG
format
{p_end}

{com}. //_13
. bysort group: tabulate status treatment [fweight=count], row col

{txt}{hline}
-> group = A

{c TLC}{hline 19}{c TRC}
{c |} Key{col 21}{c |}
{c LT}{hline 19}{c RT}
{c |}{space 5}{it:frequency}{col 21}{c |}
{c |}{space 2}{it:row percentage}{col 21}{c |}
{c |}{space 1}{it:column percentage}{col 21}{c |}
{c BLC}{hline 19}{c BRC}

           {c |}       treatment
    status {c |} untreated    treated {c |}     Total
{hline 11}{c +}{hline 22}{c +}{hline 10}
      dead {c |}{res}         3          5 {txt}{c |}{res}         8 
           {txt}{c |}{res}     37.50      62.50 {txt}{c |}{res}    100.00 
           {txt}{c |}{res}     42.86      38.46 {txt}{c |}{res}     40.00 
{txt}{hline 11}{c +}{hline 22}{c +}{hline 10}
     alive {c |}{res}         4          8 {txt}{c |}{res}        12 
           {txt}{c |}{res}     33.33      66.67 {txt}{c |}{res}    100.00 
           {txt}{c |}{res}     57.14      61.54 {txt}{c |}{res}     60.00 
{txt}{hline 11}{c +}{hline 22}{c +}{hline 10}
     Total {c |}{res}         7         13 {txt}{c |}{res}        20 
           {txt}{c |}{res}     35.00      65.00 {txt}{c |}{res}    100.00 
           {txt}{c |}{res}    100.00     100.00 {txt}{c |}{res}    100.00 

{txt}{hline}
-> group = B

{c TLC}{hline 19}{c TRC}
{c |} Key{col 21}{c |}
{c LT}{hline 19}{c RT}
{c |}{space 5}{it:frequency}{col 21}{c |}
{c |}{space 2}{it:row percentage}{col 21}{c |}
{c |}{space 1}{it:column percentage}{col 21}{c |}
{c BLC}{hline 19}{c BRC}

           {c |}       treatment
    status {c |} untreated    treated {c |}     Total
{hline 11}{c +}{hline 22}{c +}{hline 10}
      dead {c |}{res}         3         15 {txt}{c |}{res}        18 
           {txt}{c |}{res}     16.67      83.33 {txt}{c |}{res}    100.00 
           {txt}{c |}{res}     60.00      55.56 {txt}{c |}{res}     56.25 
{txt}{hline 11}{c +}{hline 22}{c +}{hline 10}
     alive {c |}{res}         2         12 {txt}{c |}{res}        14 
           {txt}{c |}{res}     14.29      85.71 {txt}{c |}{res}    100.00 
           {txt}{c |}{res}     40.00      44.44 {txt}{c |}{res}     43.75 
{txt}{hline 11}{c +}{hline 22}{c +}{hline 10}
     Total {c |}{res}         5         27 {txt}{c |}{res}        32 
           {txt}{c |}{res}     15.62      84.38 {txt}{c |}{res}    100.00 
           {txt}{c |}{res}    100.00     100.00 {txt}{c |}{res}    100.00 

{txt}
{com}. //_14
. spineplot status treatment [fweight=count] if group == 1, ///
> bar1(color(gold) fintensity(%100)) bar2(color(navy) fintensity(%100)) ///
> caption("Group A") ///
> name(spineplotA, replace)
{p 0 4 2}
{txt}(note:  named style
% 100 not found in class
intensity,  default attributes used)
{p_end}
{p 0 4 2}
{txt}(note:  named style
% 100 not found in class
intensity,  default attributes used)
{p_end}
{res}{txt}
{com}. //_15
. spineplot status treatment [fweight=count] if group == 2, ///
> bar1(color(gold) fintensity(%100)) bar2(color(navy) fintensity(%100)) ///
> caption("Group B") ///
> name(spineplotB, replace)
{p 0 4 2}
{txt}(note:  named style
% 100 not found in class
intensity,  default attributes used)
{p_end}
{p 0 4 2}
{txt}(note:  named style
% 100 not found in class
intensity,  default attributes used)
{p_end}
{res}{txt}
{com}. //_16
. graph combine spineplotA spineplotB, ///
> title("The Treatment Does Appear To Have An Effect") ///
> subtitle("When Examined By Group") ///
> note("A Greater % Of Those Receiving Treatment Are Alive") 
{p 0 4 2}
{txt}(note:  named style
% 100 not found in class
intensity,  default attributes used)
{p_end}
{p 0 4 2}
{txt}(note:  named style
% 100 not found in class
intensity,  default attributes used)
{p_end}
{p 0 4 2}
{txt}(note:  named style
% 100 not found in class
intensity,  default attributes used)
{p_end}
{p 0 4 2}
{txt}(note:  named style
% 100 not found in class
intensity,  default attributes used)
{p_end}
{res}{txt}
{com}. //_17
. graph export my_Simpsons_spineplot2.png, width(1000) replace
{txt}{p 0 4 2}
file {bf}
/Users/agrogan/Desktop/GitHub/agrogan1.github.io/myposts/my_Simpsons_spineplot2.png{rm}
saved as
PNG
format
{p_end}

{com}. //_18
. graph bar [fweight=count], over(status) over(treatment) asyvars ///
> by(group, ///
> title("The Treatment Does Appear To Have An Effect") ///
> subtitle("When Examined By Group") ///
> note("A Greater % Of Those Receiving Treatment Are Alive"))
{res}{txt}
{com}. //_19
. graph export my_Simpsons_barchart2.png, width(1000) replace
{txt}{p 0 4 2}
file {bf}
/Users/agrogan/Desktop/GitHub/agrogan1.github.io/myposts/my_Simpsons_barchart2.png{rm}
saved as
PNG
format
{p_end}

{com}. //_20
. graph pie if group == 1 [fweight=count], over(status) by(treatment, ///
> caption("Group A")) ///
> name(piechartA, replace)
{res}{txt}
{com}. //_21
. graph pie if group == 2 [fweight=count], over(status) by(treatment, ///
> caption("Group B")) ///
> name(piechartB, replace)
{res}{txt}
{com}. //_22
. graph combine piechartA piechartB, ///
> title("The Treatment Does Appear To Have An Effect") ///
> subtitle("When Examined By Group") ///
> note("A Greater % Of Those Receiving Treatment Are Alive") 
{res}{txt}
{com}. //_23
. graph export my_Simpsons_piechart2.png, width(1000) replace
{txt}{p 0 4 2}
file {bf}
/Users/agrogan/Desktop/GitHub/agrogan1.github.io/myposts/my_Simpsons_piechart2.png{rm}
saved as
PNG
format
{p_end}

{com}. //_^
. log close
      {txt}name:  {res}<unnamed>
       {txt}log:  {res}/Users/agrogan/Desktop/GitHub/agrogan1.github.io/myposts/Simpsonsparadox-Stata.smcl
  {txt}log type:  {res}smcl
 {txt}closed on:  {res}29 Jul 2022, 13:17:12
{txt}{.-}
{smcl}
{txt}{sf}{ul off}