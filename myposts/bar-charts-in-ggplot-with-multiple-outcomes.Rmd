---
title: "Bar Charts in ggplot With Multiple Outcomes"
author: "Andy Grogan-Kaylor"
date: "`r Sys.Date()`"
output:
  distill::distill_article:
    highlight: haddock
    toc: yes
  tint::tintPdf:
    highlight: haddock
    number_sections: yes
    toc: yes
  tufte::tufte_handout:
    toc: yes
    number_sections: yes
    latex_engine: xelatex
---

```{r setup, include=FALSE}

knitr::opts_chunk$set(echo = TRUE)

```

# Setup

```{r}

library(ggplot2) # beautiful graphs

library(tidyr) # tidy data

```

# Simulated Data

```{r}

x <- c(1,2,3) # independent variable

y <- c(4,5,6) # first outcome

z <- c(7,8,3) # second outcome

mydata <- tibble(x,y,z)

mydata # replay mydata

```

# Reshape Data With `pivot_longer`

```{r}

myReshapedData <- mydata %>% pivot_longer(2:3,
                                          names_to = "newnames", 
                                          values_to = "newvalues")

myReshapedData # replay myReshapedData

```

# Graphs

## Bar Chart With Unstacked Bars

```{r}

ggplot(myReshapedData, # data I am using
       aes(x = x, # x is newnames
           y = newvalues, # y is newvalues
           fill = newnames)) + # fill is newnames
  geom_bar(stat = "identity", # y is actual bar height
           position = position_dodge()) # unstack bars

```

## Line Chart

```{r}

ggplot(myReshapedData, # data I am using
       aes(x = x, # x is x
           y = newvalues, # y is value
           color = newnames, # color is key
           group = newnames)) + # line needs a group aesthetic
  geom_line()

```














