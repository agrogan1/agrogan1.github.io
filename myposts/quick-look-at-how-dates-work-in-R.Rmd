---
title: "Quick Look At How Dates Work in R"
author:
  - name: Andy Grogan-Kaylor 
    url: https://www.umich.edu/~agrogan
    affiliation: University of Michigan
    affiliation_url: https://www.umich.edu
date: "`r Sys.Date()`"
output: 
  distill::distill_article:
    highlight: haddock
    toc: yes
---

```{r setup, include=FALSE}

knitr::opts_chunk$set(echo = TRUE,
                      warning = FALSE,
                      message = FALSE)

```

# Background

[https://www.statmethods.net/input/dates.html](https://www.statmethods.net/input/dates.html)

# Demo

## Libraries

```{r}

library(lubridate) # easier to work with dates

```

## Fake Data

Make up some simulated data for demonstration purposes.

```{r}

startdate <- c("2019-01-01", # hypothetical start dates
                "2019-02-15",
                "2019-03-01")

enddate <- c("2019-1-30", # hypothetical end dates
              "2019-5-30",
              "2019-4-30")

```

## Format As Dates

Right now R understands these data as *character* variables.

```{r}

summary(startdate)

summary(enddate)

```


> Format these quantities as dates so that R understands that they are dates.

> *Internally*, once numbers are formatted as dates, R understands dates as the number of days that have elapsed since **January 1, 1970**. Hence, dates are numbers that can be *compared*, *added*, and *subtracted* in a fashion similar to other numbers. When numbers are formatted as dates, they are presented as dates in many situations, such as summary statistics and graphs.

```{r}

startdate <- ymd(startdate) # format as dates

enddate <- ymd(enddate) # format as dates

```

```{r}

summary(startdate)

summary(enddate)

```

## Calculate Duration

Simply subtract `startdate` from `enddate` to calculate duration.

```{r}

howlong <- enddate - startdate # calculate duration

summary(howlong)

```

## Test Length of Duration

Use the `variable[test]` syntax to figure out if duration is longer than 90 days.

```{r}

mydata <- data.frame(startdate, enddate, howlong) # bundle into a data set

mydata$over90 <- "no"  # initialize this variable to "no"

mydata$over90[mydata$howlong > 90] <- "yes" # change to "yes" when howlong > 90

mydata # replay data set

```






