<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.549">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Andy Grogan-Kaylor">
<meta name="dcterms.date" content="2024-02-05">

<title>Andrew Grogan-Kaylor - Can Stata Make An Aesthetically Appealing Graph?</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../logo.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script src="../../site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="../../site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="../../site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
<meta property="og:title" content="Andrew Grogan-Kaylor - Can Stata Make An Aesthetically Appealing Graph?">
<meta property="og:description" content="">
<meta property="og:image" content="aesthetically-appealing-World-Bank.svg">
<meta property="og:site_name" content="Andrew Grogan-Kaylor">
<meta name="twitter:title" content="Andrew Grogan-Kaylor - Can Stata Make An Aesthetically Appealing Graph?">
<meta name="twitter:description" content="">
<meta name="twitter:image" content="aesthetically-appealing-World-Bank.svg">
<meta name="twitter:card" content="summary_large_image">
<meta name="citation_title" content="Can Stata Make An Aesthetically Appealing Graph?">
<meta name="citation_author" content="Andy Grogan-Kaylor">
<meta name="citation_publication_date" content="2024-02-05">
<meta name="citation_cover_date" content="2024-02-05">
<meta name="citation_year" content="2024">
<meta name="citation_online_date" content="2024-02-05">
<meta name="citation_language" content="en">
<meta name="citation_reference" content="citation_title=Spanking and adult mental health impairment: The case for the designation of spanking as an adverse childhood experience;,citation_abstract=Adverse Childhood Experiences (ACEs) such as child abuse are related to poor health outcomes. Spanking has indicated a similar association with health outcomes, but to date has not been considered an ACE. Physical and emotional abuse have been shown in previous research to correlate highly and may be similar in nature to spanking. To determine if spanking should be considered an ACE, this study aimed to examine 1): the grouping of spanking with physical and emotional abuse; and 2) if spanking has similar associations with poor adult health problems and accounts for additional model variance. Adult mental health problems included depressive affect, suicide attempts, moderate to heavy drinking, and street drug use. Data were from the CDC-Kaiser ACE study (N = 8316, response rate = 65;,citation_author=Tracie O. Afifi;,citation_author=Derek Ford;,citation_author=Elizabeth T. Gershoff;,citation_author=Melissa Merrick;,citation_author=Andrew Grogan-Kaylor;,citation_author=Katie A. Ports;,citation_author=Harriet L. MacMillan;,citation_author=George W. Holden;,citation_author=Catherine A. Taylor;,citation_author=Shawna J. Lee;,citation_author=Robbyn Peters Bennett;,citation_publication_date=2017;,citation_cover_date=2017;,citation_year=2017;,citation_doi=10.1016/j.chiabu.2017.01.014;,citation_isbn=0145-2134;,citation_issn=18737757;,citation_volume=71;,citation_journal_title=Child Abuse and Neglect;">
<meta name="citation_reference" content="citation_title=The optics of Ibn al-Haytham books IV-V: On reflection and images seen by reflection;,citation_author=Alhazen;,citation_editor=J. P. Hogendijk;,citation_publication_date=2023;,citation_cover_date=2023;,citation_year=2023;,citation_series_title=Warburg institute studies and texts; 8;">
<meta name="citation_reference" content="citation_title=Resolution on physical discipline of children by parents;,citation_author=American Psychological Association;,citation_publication_date=2019;,citation_cover_date=2019;,citation_year=2019;,citation_fulltext_html_url=https://www.apa.org/about/policy/physical-discipline.pdf;,citation_technical_report_institution=American Psychological Association;">
<meta name="citation_reference" content="citation_title=Liberation Social Psychology: Learning From Latin America Psychology of liberation: Learning from Latin America;,citation_abstract=Liberation Social Psychology (la psicologia social de la liberacion, LSP) has developed amongst a body of psychologists in Latin America over the last decade. There has been no survey of the field in English, although some of the ideas are of relevance for those working with oppressed groups elsewhere in the world. This article explores the context in which LSP grew from the work of Ignacio Martin-Baro and was developed by Maritza Montero, amongst others. Within LSP, key concepts emerge, including ’conscientization’, ’realismo-critico’, ’de-ideologization’, a social orientation, ’the preferential option for the oppressed majorities’ and methodological eclecticism. The application of LSP is explored with reference to three domains. First, it is suggested that community social psychology as practised in some parts of Latin America reflects LSP in its emphasis on social transformation and participatory methods. Second, psycho-social work with victims of state oppression, which adopts a highly social and societal orientation embodies LSP. Third, social analyses which explicitly adopt socio-psychological-political analyses of the social realities confronting countries in Latin America embrace, in different ways, principles and concepts of LSE Some of the challenges facing LSP are discussed and open dialogue is encouraged between LSP and critical, community and applied social psychologists. Copyright (C) 2004 John Wiley Sons, Ltd.;,citation_author=Mark Burton;,citation_author=Carolyn Kagan;,citation_publication_date=2005-01;,citation_cover_date=2005-01;,citation_year=2005;,citation_doi=10.1002/casp.786;,citation_volume=15;,citation_journal_title=Journal of Community &amp;amp;amp; Applied Social Psychology;">
<meta name="citation_reference" content="citation_title=Physical punishment as a predictor of early cognitive development: Evidence from econometric approaches;,citation_abstract=This study estimates the effect of physical punishment on the cognitive development of 1,167 lowincome Colombian children (Mage = 17.8 months old) using 3 analytic strategies: lagged-dependent variables, a difference-in-differences-like approach (DD), and a novel strategy combining matching with a DD-like approach. Across approaches, physical punishment at ages 9-26 months predicted reductions in children’s cognitive development of 0.08-0.21 SD at ages 27-46 months. These results, plus null results of falsification tests, strengthen the argument that physical punishment leads to slower cognitive growth and illustrate the utility of alternative statistical methods to reduce problems of selection bias in developmental research.;,citation_author=Jorge Cuartas;,citation_author=Dana Charles McCoy;,citation_author=Andrew Grogan-Kaylor;,citation_author=Elizabeth Gershoff;,citation_publication_date=2020;,citation_cover_date=2020;,citation_year=2020;,citation_doi=10.1037/dev0001114;,citation_issn=00121649;,citation_pmid=32897084;,citation_journal_title=Developmental Psychology;">
<meta name="citation_reference" content="citation_title=Publishing child development research from around the world: An unfair playing field resulting in most of the world’s child population under-represented in research;,citation_abstract=Abstract It has become increasingly apparent that publishing research on child development from certain countries is especially challenging. These countries have been referred to collectively as the Majority World, the Global South, non-WEIRD (Western, Educated, Industrial, Rich, and Democratic), or low- and middle-income countries. The aim of this paper is to draw attention to these persistent challenges, and provide constructive recommendations to contribute to better representation of children from these countries in child development research. In this paper, we outline the history of publication bias in developmental science, and issues of generalization of research from these countries and hence where it ?fits? in terms of publishing. The importance of explaining context is highlighted, including for research on measurement child development outcomes, and attention is drawn to the vicious publication-funding cycle that further exacerbates the challenges of publishing this research. Specific recommendations are made to assist child development journals achieve their stated goals of creating a more inclusive, equitable, diverse, and global field of child development.;,citation_author=Catherine E Draper;,citation_author=Lisa M Barnett;,citation_author=Caylee J Cook;,citation_author=Jorge A Cuartas;,citation_author=Steven J Howard;,citation_author=Dana C McCoy;,citation_author=Rebecca Merkley;,citation_author=Andres Molano;,citation_author=Carolina Maldonado-Carre no;,citation_author=Jelena Obradovic;,citation_author=Gaia Scerif;,citation_author=Nadia C Valentini;,citation_author=Fotini Venetsanou;,citation_author=Aisha K Yousafzai;,citation_publication_date=2022-10;,citation_cover_date=2022-10;,citation_year=2022;,citation_fulltext_html_url=https://doi.org/10.1002/icd.2375;,citation_doi=10.1002/icd.2375;,citation_issn=1522-7227;,citation_volume=n/a;,citation_journal_title=Infant and Child Development;,citation_publisher=John Wiley &amp;amp;amp; Sons, Ltd;">
<meta name="citation_reference" content="citation_title=Ignacio Ellacuria: Essays on history, liberation, and salvation;,citation_author=Ignacio Ellacuria;,citation_editor=Michael L. Lee;,citation_publication_date=2013;,citation_cover_date=2013;,citation_year=2013;">
<meta name="citation_reference" content="citation_title=Corporal punishment – 10 key messages;,citation_author=End Violence Against Children;,citation_author=End Corporal Punishment;,citation_publication_date=2022;,citation_cover_date=2022;,citation_year=2022;,citation_fulltext_html_url=https://www.end-violence.org/;,citation_technical_report_institution=End Corporal Punishment;">
<meta name="citation_reference" content="citation_title=Spanking and child outcomes: Old controversies and new meta-analyses;,citation_abstract=Whether spanking is helpful or harmful to children continues to be the source of considerable debate among both researchers and the public. This article addresses 2 persistent issues, namely whether effect sizes for spanking are distinct from those for physical abuse, and whether effect sizes for spanking are robust to study design differences. Meta-analyses focused specifically on spanking were conducted on a total of 111 unique effect sizes representing 160,927 children. Thirteen of 17 mean effect sizes were significantly different from zero and all indicated a link between spanking and increased risk for detrimental child outcomes. Effect sizes did not substantially differ between spanking and physical abuse or by study design characteristics. (PsycINFO Database Record (c) 2016 APA, all rights reserved);,citation_author=Elizabeth T. Gershoff;,citation_author=Andrew Grogan-Kaylor;,citation_publication_date=2016;,citation_cover_date=2016;,citation_year=2016;,citation_doi=10.1037/fam0000191;,citation_isbn=0893-3200;,citation_issn=19391293;,citation_pmid=27055181;,citation_volume=30;,citation_journal_title=Journal of Family Psychology;">
<meta name="citation_reference" content="citation_title=The effect of corporal punishment on antisocial behavior in children;,citation_abstract=This study was conducted to examine the effect of corporal punishment on antisocial behavior of children using stronger statistical controls than earlier literature in this area; to examine whether the effect of corporal punishment on antisocial behavior is nonlinear; and to investigate whether the effects of corporal punishment on antisocial behavior differ across racial and ethnic groups. The author used a nonexperimental design and data from the National Longitudinal Survey of Youth. The analysis was conducted using fixed-effects methods to control for observed independent variables and unobserved time-invariant variables. Corporal punishment had a nontrivial effect on children’s antisocial behavior in later years despite the strong controls introduced by the fixed-effects models. The analysis provides no evidence for differences in the effect of corporal punishment across racial and ethnic groups.;,citation_author=Andrew Grogan-Kaylor;,citation_publication_date=2004-09;,citation_cover_date=2004-09;,citation_year=2004;,citation_fulltext_html_url=https://doi.org/10.1093/swr/28.3.153;,citation_doi=10.1093/swr/28.3.153;,citation_issn=1070-5309;,citation_volume=28;,citation_journal_title=Social Work Research;">
<meta name="citation_reference" content="citation_title=Relationship of corporal punishment and antisocial behavior by neighborhood;,citation_abstract=To examine the relationship of corporal punishment with children’s behavior problems while accounting for neighborhood context and while using stronger statistical methods than previous literature in this area, and to examine whether different levels of corporal punishment have different effects in different neighborhood contexts.Longitudinal cohort study.General community.1943 mother-child pairs from the National Longitudinal Survey of Youth.Internalizing and externalizing behavior problem scales of the Behavior Problems Index.Parental use of corporal punishment was associated with a 0.71 increase (P&amp;amp;amp;lt;.05) in children’s externalizing behavior problems even when several parenting behaviors, neighborhood quality, and all time-invariant variables were accounted for. The association of corporal punishment and children’s externalizing behavior problems was not dependent on neighborhood context. The research found no discernible relationship between corporal punishment and internalizing behavior problems.Arch Pediatr Adolesc Med. 2005;159:938-942–&amp;gt;;,citation_author=Andrew Grogan-Kaylor;,citation_publication_date=2005-10;,citation_cover_date=2005-10;,citation_year=2005;,citation_fulltext_html_url=https://doi.org/10.1001/archpedi.159.10.938;,citation_doi=10.1001/archpedi.159.10.938;,citation_issn=1072-4710;,citation_volume=159;,citation_journal_title=Archives of Pediatrics &amp;amp; Adolescent Medicine;">
<meta name="citation_reference" content="citation_title=Wonderful Examples, but Let’s not Close Our Eyes;,citation_abstract=The papers in this collection are superb illustrations of the power of modern Bayesian methods. They give examples of problems which are well suited to being tackled using such methods, but one must not lose sight of the merits of having multiple different strategies and tools in one’s inferential armoury.;,citation_author=David J. Hand;,citation_publication_date=2014;,citation_cover_date=2014;,citation_year=2014;,citation_fulltext_html_url=https://doi.org/10.1214/13-STS446;,citation_issue=1;,citation_doi=10.1214/13-STS446;,citation_volume=29;,citation_journal_title=Statistical Science;,citation_publisher=Institute of Mathematical Statistics;">
<meta name="citation_reference" content="citation_title=The weirdest people in the world?;,citation_abstract=Behavioral scientists routinely publish broad claims about human psychology and behavior in the world’s top journals based on samples drawn entirely from Western, Educated, Industrialized, Rich and Democratic (WEIRD) societies. Researchers - often implicitly - assume that either there is little variation across human populations, or that these “standard subjects” are as representative of the species as any other population. Are these assumptions justified? Here, our review of the comparative database from across the behavioral sciences suggests both that there is substantial variability in experimental results across populations and that WEIRD subjects are particularly unusual compared with the rest of the species - frequent outliers. The domains reviewed include visual perception, fairness, cooperation, spatial reasoning, categorization and inferential induction, moral reasoning, reasoning styles, self-concepts and related motivations, and the heritability of IQ. The findings suggest that members of WEIRD societies, including young children, are among the least representative populations one could find for generalizing about humans. Many of these findings involve domains that are associated with fundamental aspects of psychology, motivation, and behavior - hence, there are no obvious a priori grounds for claiming that a particular behavioral phenomenon is universal based on sampling from a single subpopulation. Overall, these empirical patterns suggests that we need to be less cavalier in addressing questions of human nature on the basis of data drawn from this particularly thin, and rather unusual, slice of humanity. We close by proposing ways to structurally re‐organize the behavioral sciences to best tackle these challenges.;,citation_author=Joseph Henrich;,citation_author=Steven J. Heine;,citation_author=Ara Norenzayan;,citation_publication_date=2010;,citation_cover_date=2010;,citation_year=2010;,citation_fulltext_html_url=https://arxiv.org/abs/arXiv:1011.1669v3;,citation_doi=10.1017/S0140525X0999152X;,citation_isbn=0140-525X;,citation_issn=14691825;,citation_pmid=20550733;,citation_journal_title=Behavioral and Brain Sciences;">
<meta name="citation_reference" content="citation_title=Robustness in statistics;,citation_author=Robert L. Launer;,citation_author=Graham N. Wilkinson;,citation_editor=Robert L. Launer;,citation_editor=Graham N. Wilkinson;,citation_publication_date=1979;,citation_cover_date=1979;,citation_year=1979;,citation_isbn=0-12-438150-2;,citation_inbook_title=Proceedings of a Workshop held at the Army Research Office, Research Triangle Park, N.C., April 11–12, 1978;">
<meta name="citation_reference" content="citation_title=The golden ratio: The story of phi, the world’s most astonishing number;,citation_abstract=Includes bibliographical references (p. [269]-277) and index.;,citation_author=Mario Livio;,citation_publication_date=2002;,citation_cover_date=2002;,citation_year=2002;,citation_isbn=0767908155;,citation_book_title=The golden ratio: the story of phi, the world’s most astonishing number;">
<meta name="citation_reference" content="citation_title=Associations of neighborhood disorganization and maternal spanking with children’s aggression: A fixed-effects regression analysis;,citation_abstract=This study employed fixed effects regression that controls for selection bias, omitted variables bias, and all time-invariant aspects of parent and child characteristics to examine the simultaneous associations between neighborhood disorganization, maternal spanking, and aggressive behavior in early childhood using data from the Fragile Families and Child Wellbeing Study (FFCWS). Analysis was based on 2,472 children and their mothers who participated in Wave 3 (2001–2003; child age 3) and Wave 4 (2003–2006; child age 5) of the FFCWS. Results indicated that higher rates of neighborhood crime and violence predicted higher levels of child aggression. Maternal spanking in the past year, whether frequent or infrequent, was also associated with increases in aggressive behavior. This study contributes statistically rigorous evidence that exposure to violence in the neighborhood as well as the family context are predictors of child aggression. We conclude with a discussion for the need for multilevel prevention and intervention approaches that target both community and parenting factors.;,citation_author=Julie Ma;,citation_author=Andrew Grogan-Kaylor;,citation_author=Shawna J. Lee;,citation_publication_date=2018;,citation_cover_date=2018;,citation_year=2018;,citation_doi=10.1016/j.chiabu.2017.10.013;,citation_issn=18737757;,citation_volume=76;,citation_journal_title=Child Abuse and Neglect;">
<meta name="citation_reference" content="citation_title=Toward a liberation psychology;,citation_author=Ignacio Martin-Baro;,citation_editor=Adrianne Aron;,citation_editor=Shawn Corne;,citation_publication_date=1994;,citation_cover_date=1994;,citation_year=1994;,citation_inbook_title=Writings for a liberation psychology;">
<meta name="citation_reference" content="citation_title=Retos y perspectivas de la psicología latinoamericana;,citation_author=Ignacio Martin-Baro;,citation_editor=A. Blanco;,citation_publication_date=1998;,citation_cover_date=1998;,citation_year=1998;,citation_inbook_title=Psicología de la liberación;">
<meta name="citation_reference" content="citation_title=Unpacking the impact of adverse childhood experiences on adult mental health;,citation_abstract=Exposure to childhood adversity has an impact on adult mental health, increasing the risk for depression and suicide. Associations between Adverse Childhood Experiences (ACEs) and several adult mental and behavioral health outcomes are well documented in the literature, establishing the need for prevention. The current study analyzes the relationship between an expanded ACE score that includes being spanked as a child and adult mental health outcomes by examining each ACE separately to determine the contribution of each ACE. Data were drawn from Wave II of the CDC-Kaiser ACE Study, consisting of 7465 adult members of Kaiser Permanente in southern California. Dichotomous variables corresponding to each of the 11 ACE categories were created, with ACE score ranging from 0 to 11 corresponding to the total number of ACEs experienced. Multiple logistic regression modeling was used to examine the relationship between ACEs and adult mental health outcomes adjusting for sociodemographic covariates. Results indicated a graded dose-response relationship between the expanded ACE score and the likelihood of moderate to heavy drinking, drug use, depressed affect, and suicide attempts in adulthood. In the adjusted models, being spanked as a child was significantly associated with all self-reported mental health outcomes. Over 80;,citation_author=Melissa T. Merrick;,citation_author=Katie A. Ports;,citation_author=Derek C. Ford;,citation_author=Tracie O. Afifi;,citation_author=Elizabeth T. Gershoff;,citation_author=Andrew Grogan-Kaylor;,citation_publication_date=2017;,citation_cover_date=2017;,citation_year=2017;,citation_fulltext_html_url=http://linkinghub.elsevier.com/retrieve/pii/S0145213417301084;,citation_doi=10.1016/j.chiabu.2017.03.016;,citation_isbn=0145-2134;,citation_issn=01452134;,citation_pmid=28419887;,citation_volume=69;,citation_journal_title=Child Abuse &amp;amp;amp; Neglect;">
<meta name="citation_reference" content="citation_title=PowerPoint 16.87;,citation_author=Microsoft;,citation_publication_date=2024;,citation_cover_date=2024;,citation_year=2024;,citation_publisher=Microsoft;">
<meta name="citation_reference" content="citation_title=Mandelbrot: Generates views on the mandelbrot set;,citation_author=Ben Moore;,citation_author=Mario Reis;,citation_publication_date=2017;,citation_cover_date=2017;,citation_year=2017;,citation_fulltext_html_url=https://CRAN.R-project.org/package=mandelbrot;">
<meta name="citation_reference" content="citation_title=Position statement: Corporal punishment of children;,citation_author=American Professional Society Abuse;,citation_publication_date=2016;,citation_cover_date=2016;,citation_year=2016;,citation_technical_report_institution=American Professional Society on the Abuse of Children;">
<meta name="citation_reference" content="citation_title=Spanking and young children’s socioemotional development in low- and middle-income countries;,citation_abstract=Spanking is one of the most common forms of child discipline used by parents around the world. Research on children in high-income countries has shown that parental spanking is associated with adverse child outcomes, yet less is known about how spanking is related to child well-being in low- and middle-income countries. This study uses data from 215,885 children in 62 countries from the fourth and fifth rounds of UNICEF’s Multiple Indicator Cluster Surveys (MICS) to examine the relationship between spanking and child well-being. In this large international sample which includes data from nearly one-third of the world’s countries, 43;,citation_author=Garrett T. Pace;,citation_author=Shawna J. Lee;,citation_author=Andrew Grogan-Kaylor;,citation_publication_date=2019;,citation_cover_date=2019;,citation_year=2019;,citation_doi=10.1016/j.chiabu.2018.11.003;,citation_issn=18737757;,citation_pmid=30448642;,citation_volume=88;,citation_journal_title=Child Abuse and Neglect;">
<meta name="citation_reference" content="citation_title=Eveline Pye: Poetry in numbers, by Julian Champkin;,citation_abstract=Statistics is dry, practical, unimaginative? Unpoetical? Too many people think so. Is there poetry in numbers? Julian Champkin talks to Eveline Pye, statistician and poet of statistics, to disprove it.;,citation_author=Eveline Pye;,citation_publication_date=2011;,citation_cover_date=2011;,citation_year=2011;,citation_fulltext_html_url=https://rss.onlinelibrary.wiley.com/doi/abs/10.1111/j.1740-9713.2011.00510.x;,citation_issue=3;,citation_doi=10.1111/j.1740-9713.2011.00510.x;,citation_volume=8;,citation_journal_title=Significance;">
<meta name="citation_reference" content="citation_title=Transcendental etude;,citation_abstract=The Fact of a Doorframe: Poems Selected and New 1950-1984 (New York: Norton, 1984);,citation_author=Adrienne Rich;,citation_publication_date=1984;,citation_cover_date=1984;,citation_year=1984;,citation_inbook_title=The fact of a doorframe: Poems selected and new 1950-1984;">
<meta name="citation_reference" content="citation_title=The demon haunted world: Science as a candle in the dark;,citation_author=Carl Sagan;,citation_publication_date=1995;,citation_cover_date=1995;,citation_year=1995;">
<meta name="citation_reference" content="citation_title=Math person (Strogatz Prize entry);,citation_author=Julia Schanen;,citation_publication_date=2021;,citation_cover_date=2021;,citation_year=2021;,citation_publisher=National Museum of Mathematics;">
<meta name="citation_reference" content="citation_title=Effective discipline to raise healthy children;,citation_abstract=In the AAP policy statement “Effective Discipline to Raise Healthy Children” …;,citation_author=Robert D Sege;,citation_author=Benjamin S Siegel;,citation_author=Council Child Abuse;,citation_author=eglect;,citation_author=Committee Psychosocial Aspects;,citation_author=amily Health;,citation_publication_date=2019-02;,citation_cover_date=2019-02;,citation_year=2019;,citation_fulltext_html_url=http://pediatrics.aappublications.org/content/143/2/e20183609.abstract;,citation_doi=10.1542/peds.2018-3609;,citation_volume=143;,citation_journal_title=Pediatrics;">
<meta name="citation_reference" content="citation_title=Non-replication of the replicable (1996);,citation_author=William A. Silverman;,citation_publication_date=1998;,citation_cover_date=1998;,citation_year=1998;,citation_inbook_title=Where’s the evidence? Debates in modern medicine;">
<meta name="citation_reference" content="citation_title=The interpretation of interaction in contingency tables;,citation_abstract=[The definition of second order interaction in a (2 × 2 × 2) table given by Bartlett is accepted, but it is shown by an example that the vanishing of this second order interaction does not necessarily justify the mechanical procedure of forming the three component 2 × 2 tables and testing each of these for significance by standard methods.];,citation_author=E H Simpson;,citation_publication_date=1951;,citation_cover_date=1951;,citation_year=1951;,citation_fulltext_html_url=http://www.jstor.org/stable/2984065;,citation_issn=00359246;,citation_volume=13;,citation_journal_title=Journal of the Royal Statistical Society. Series B (Methodological);,citation_publisher=[Royal Statistical Society, Wiley];">
<meta name="citation_reference" content="citation_title=At the same time: The novelist and moral reasoning;,citation_author=Susan Sontag;,citation_editor=Paolo Dilonardo;,citation_editor=Anne Jump;,citation_publication_date=2007;,citation_cover_date=2007;,citation_year=2007;,citation_inbook_title=At the same time: The novelist and moral reasoning;">
<meta name="citation_reference" content="citation_title=Corporal punishment: The global picture;,citation_abstract=Globally, corporal punishment is the most common form of violence against children. A large body of evidence demonstrates that it has no positive long-term outcomes and predicts a wide range of adverse effects in childhood and adulthood. The United Nations has declared that corporal punishment violates children’s fundamental rights to protection and has called on all countries to repeal laws that allow or justify it. As of June 2023, 65 countries have prohibited corporal punishment of children in all settings. These laws were implemented to make it clear that no level of violence against children is allowed and to uphold children’s rights to protection. This article aims to: (1) summarize the research and human rights rationales for the prohibition of corporal punishment; (2) provide a global update on its legal status; and (3) present research findings from Sweden, Germany, and New Zealand, three countries that have banned corporal punishment.;,citation_author=Ashley Stewart-Tufescu;,citation_publication_date=2023;,citation_cover_date=2023;,citation_year=2023;,citation_doi=10.22215/cjcr.v10i1;,citation_volume=10;,citation_journal_title=The Canadian Journal of Children’s Rights / Revue Canadienne des Droits des Enfants;">
<meta name="citation_reference" content="citation_title=A familiar face: Violence in the lives of children and adolescents;,citation_author=UNICEF;,citation_publication_date=2017;,citation_cover_date=2017;,citation_year=2017;,citation_technical_report_institution=UNICEF;">
<meta name="citation_reference" content="citation_title=Associations between 11 parental discipline behaviors and child outcomes across 60 countries;,citation_abstract=Objective: To test associations between 11 parental discipline behaviors and child aggression, distraction, and prosocial peer relations across low- and middle-income countries (LMICs). Study Design: Data came from the fourth (2009-2013) and fifth (2012-2017) rounds of the UNICEF Multiple Indicator Cluster Surveys (MICS). Survey responses publicly available as of July 2020 were included. Data were restricted to household respondents with focal children under 5 years. The final analytic sample included 163,345 respondents across 60 LMICs. Data were analyzed using Bayesian multilevel logistic regression. Results: Verbal reasoning (80 Conclusions: Psychological and physical aggression were disadvantageous for children’s socio-emotional development across countries. Only verbal reasoning was associated with positive child socio-emotional development. Greater emphasis should be dedicated to reducing parental use of psychological and physical aggression across cultural contexts.;,citation_author=Kaitlin P. Ward;,citation_author=Andrew C. Grogan-Kaylor;,citation_author=Julie Ma;,citation_author=Garrett Pace;,citation_author=Shawna J. Lee;,citation_publication_date=2023;,citation_cover_date=2023;,citation_year=2023;,citation_doi=10.1136/bmjopen-2021-058439;,citation_journal_title=BMJ Open;">
<meta name="citation_reference" content="citation_title=Patterns of caregiver aggressive and nonaggressive discipline toward young children in low- and middle-income countries: A latent class approach;,citation_author=Kaitlin P. Ward;,citation_author=Shawna J. Lee;,citation_author=Andrew C. Grogan-Kaylor;,citation_author=Julie Ma;,citation_author=Garrett T. Pace;,citation_publication_date=2022;,citation_cover_date=2022;,citation_year=2022;,citation_doi=https://doi.org/10.1016/j.chiabu.2022.105606;,citation_volume=128;,citation_journal_title=Child Abuse &amp;amp;amp; Neglect;">
<meta name="citation_reference" content="citation_title=Attachment style and the association of spanking and child externalizing behavior;,citation_abstract=Objective: To examine whether the longitudinal associations between maternal spanking and child externalizing behavior are moderated by attachment style. Methods: This study used data from the Fragile Families and Child Wellbeing Study (n = 2211), a large cohort sample of low-income urban families. Multiple-group autoregressive cross-lagged models examined the associations between maternal spanking and child externalizing behavior when children were ages 1, 3, and 5. Moderation by attachment style was examined using structural invariance testing. Results: For children with an insecure mother-child attachment style, spanking at age 1 was associated with externalizing behavior at age 3. However, for children with a secure mother-child attachment style, the association between maternal spanking at age 1 and child externalizing behavior at age 3 was absent. Attachment style did not moderate the association between maternal spanking at age 3 and externalizing behavior at age 5, suggesting that spanking at age 3 is associated with deleterious outcomes at age 5, regardless of attachment style. Conclusions: Results suggest that even in the context of a secure attachment style, spanking is associated with adverse outcomes in early childhood. Findings support the American Academy of Pediatrics 2018 policy statement, which encourages parents to avoid spanking when disciplining children. Results suggest that children, regardless of attachment style, may benefit from policies and services that promote non-violent forms of discipline.;,citation_author=Kaitlin P. Ward;,citation_author=Shawna J. Lee;,citation_author=Garrett T. Pace;,citation_author=Andrew Grogan-Kaylor;,citation_author=Julie Ma;,citation_publication_date=2020-05;,citation_cover_date=2020-05;,citation_year=2020;,citation_doi=10.1016/j.acap.2019.06.017;,citation_issn=18762867;,citation_pmid=31279159;,citation_volume=20;,citation_journal_title=Academic Pediatrics;,citation_publisher=Elsevier Inc.;">
<meta name="citation_reference" content="citation_title=Quantitative literacy for social justice;,citation_abstract=In this article, we argue that many adults lack the ?numeracy? needed to function in a maximally effective manner in their vocational, civic, and personal lives. We believe schools need to foster skills in quantitative literacy (QL), an inclination and ability to make reasoned decisions using general world knowledge and fundamental mathematics in authentic everyday circumstances. We explain how schools might begin to make inroads in preparing more quantitatively literate students and how this goal coincides with efforts toward greater social justice.;,citation_author=Lynda R Wiest;,citation_author=Heidi J Higgins;,citation_author=Janet Hart Frost;,citation_publication_date=2007-04;,citation_cover_date=2007-04;,citation_year=2007;,citation_fulltext_html_url=https://doi.org/10.1080/10665680601079894;,citation_doi=10.1080/10665680601079894;,citation_issn=1066-5684;,citation_volume=40;,citation_journal_title=Equity &amp;amp;amp; Excellence in Education;,citation_publisher=Routledge;">
<meta name="citation_reference" content="citation_title=Global status report on preventing violence against children 2020;,citation_author=World Health Organization;,citation_publication_date=2020;,citation_cover_date=2020;,citation_year=2020;,citation_fulltext_html_url=https://www.unicef.org/sites/default/files/2020-06/Global-status-report-on-preventing-violence-against-children-2020.pdf;,citation_technical_report_institution=World Health Organization;">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Andrew Grogan-Kaylor</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://ssw.umich.edu/sites/default/files/documents/faculty/cvs/agrogan_cv.pdf"> 
<span class="menu-text">CV</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../teaching.html"> 
<span class="menu-text">Teaching</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../research.html"> 
<span class="menu-text">Research</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../stats-stuff.html"> 
<span class="menu-text">Stats Stuff</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-multilevel-thinking" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Multilevel Thinking</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-multilevel-thinking">    
        <li>
    <a class="dropdown-item" href="https://agrogan1.github.io/multilevel-thinking/">
 <span class="dropdown-text">Multilevel Thinking (Book)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://agrogan1.github.io/multilevel-multilingual/">
 <span class="dropdown-text">Multilevel Multilingual</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://agrogan1.github.io/multilevel-visualization/">
 <span class="dropdown-text">Multilevel Visualization</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://agrogan1.github.io/multilevel-workshop/">
 <span class="dropdown-text">Multilevel Workshop</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="https://globalfamilies.quarto.pub/global-families-project/"> 
<span class="menu-text">Global Families</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://agrogan1.github.io/mapping/"> 
<span class="menu-text">Mapping/GIS</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../blog.html"> 
<span class="menu-text">Blog-ish Posts</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About Me</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Can Stata Make An Aesthetically Appealing Graph?</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">stats</div>
                <div class="quarto-category">dataviz</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Andy Grogan-Kaylor </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">February 5, 2024</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#background" id="toc-background" class="nav-link active" data-scroll-target="#background">Background</a></li>
  <li><a href="#get-the-data" id="toc-get-the-data" class="nav-link" data-scroll-target="#get-the-data">Get The Data</a></li>
  <li><a href="#data-management" id="toc-data-management" class="nav-link" data-scroll-target="#data-management">Data Management</a></li>
  <li><a href="#graph" id="toc-graph" class="nav-link" data-scroll-target="#graph">Graph</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<section id="background" class="level1">
<h1>Background</h1>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(Statamarkdown)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Another attempt <a href="https://agrogan1.github.io/posts/can-Stata-make-a-beautiful-graph/">to make an aesthetically appealing graph with Stata</a>.</p>
<p>I make use of the <code>///</code> notation which allows me to spread the graph along multiple lines.</p>
</section>
<section id="get-the-data" class="level1">
<h1>Get The Data</h1>
<div class="cell" data-collectcode="true">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="kw">use</span> <span class="st">"https://github.com/agrogan1/multilevel/raw/master/fixed-effects-example-World-Bank-data/WorldBankData.dta"</span>, <span class="kw">clear</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="data-management" class="level1">
<h1>Data Management</h1>
<div class="cell" data-collectcode="true">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="kw">drop</span> <span class="kw">if</span> region == <span class="st">"Aggregates"</span> <span class="co">// drop Aggregates</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="graph" class="level1">
<h1>Graph</h1>
<div class="cell" data-collectcode="true">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="kw">twoway</span> (<span class="kw">scatter</span> GDP <span class="fu">year</span>, mcolor(%10)) <span class="co">/// scatterplot; transparent markers</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>(<span class="kw">lowess</span> GDP <span class="fu">year</span>, lwidth(thick)),  <span class="co">/// lowess smoother</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="kw">xlabel</span>(, angle(270) <span class="bn">labsize</span>(vsmall)) <span class="co">/// x label tweaks</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="kw">ylabel</span>(, angle(0) <span class="bn">labsize</span>(vsmall)) <span class="co">/// y label tweaks</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="kw">by</span>(region, <span class="bn">title</span>(<span class="st">"GDP by Year"</span>) <span class="co">///</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="kw">note</span> (<span class="st">"World Bank Data: Every Dot is a Country-Year"</span>) <span class="co">///</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="bn">legend</span>(<span class="kw">off</span>)) <span class="co">///</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="bn">subtitle</span>(, <span class="kw">size</span>(small)) <span class="co">///</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a><span class="bn">xsize</span>(5) <span class="bn">ysize</span>(5) <span class="co">/// x and y size</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a><span class="dv">scheme</span>(michigan) </span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a><span class="kw">graph</span> <span class="kw">export</span> aesthetically-appealing-World-Bank.svg, <span class="kw">width</span>(2000) <span class="kw">replace</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="aesthetically-appealing-World-Bank.svg" class="lightbox" data-glightbox="description: .lightbox-desc-1" data-gallery="quarto-lightbox-gallery-1" title="An Aesthetically Appealing Graph of World Bank Data"><img src="aesthetically-appealing-World-Bank.svg" class="img-fluid figure-img" style="width:75.0%" alt="An Aesthetically Appealing Graph of World Bank Data"></a></p>
<figcaption>An Aesthetically Appealing Graph of World Bank Data</figcaption>
</figure>
</div>


<div class="hidden" aria-hidden="true">
<span class="glightbox-desc lightbox-desc-1">An Aesthetically Appealing Graph of World Bank Data</span>
</div>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<script>var lightboxQuarto = GLightbox({"closeEffect":"zoom","openEffect":"zoom","descPosition":"bottom","selector":".lightbox","loop":false});
window.onload = () => {
  lightboxQuarto.on('slide_before_load', (data) => {
    const { slideIndex, slideNode, slideConfig, player, trigger } = data;
    const href = trigger.getAttribute('href');
    if (href !== null) {
      const imgEl = window.document.querySelector(`a[href="${href}"] img`);
      if (imgEl !== null) {
        const srcAttr = imgEl.getAttribute("src");
        if (srcAttr && srcAttr.startsWith("data:")) {
          slideConfig.href = srcAttr;
        }
      }
    } 
  });

  lightboxQuarto.on('slide_after_load', (data) => {
    const { slideIndex, slideNode, slideConfig, player, trigger } = data;
    if (window.Quarto?.typesetMath) {
      window.Quarto.typesetMath(slideNode);
    }
  });

};
          </script>




</body></html>